<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <title>ğŸ†ChÃºc Má»«ng NÄƒm Má»›i 2026ğŸ†</title>
    <link rel="stylesheet" href="chucmungnammoi.css">

</head>

<body>

    <canvas id="fireworks"></canvas>

    <div class="center">
        <h1>ğŸ†CHÃšC Má»ªNG NÄ‚M Má»šIğŸ†</h1>
        <h2>2026</h2>
        <p>ChÃºc báº¡n má»™t nÄƒm má»›i bÃ¬nh an â€“ háº¡nh phÃºc â€“ thÃ nh cÃ´ng â¤ï¸</p>
        <!-- <div style="margin-top:15px;">
            ğŸ”Š Ã‚m lÆ°á»£ng
            <input type="range" min="0" max="1" step="0.01" value="0.3" oninput="setVolume(this.value)">
        </div> -->
    </div>


    <!-- Nháº¡c ná»n -->
    <audio id="music" loop preload="auto">
        <source src="TrÃºc NhÃ¢n _ Váº N Sá»° NHÆ¯ Ã _ Official MV.mp3" type="audio/mpeg">
    </audio>
    <audio id="fireworkSound">
        <source src="Fireworks with Sound Effects.mp3" type="audio/mpeg">
    </audio>


    <script>
        /* PhÃ¡t nháº¡c */
        const music = document.getElementById("music");
        music.volume = 0.1;

        let musicStarted = false;

        function startMusicOnce() {
            if (!musicStarted) {
                music.play().catch(() => { });
                musicStarted = true;
            }
        }

        // Chá»‰ cáº§n click / cháº¡m 1 láº§n báº¥t ká»³
        document.addEventListener("click", startMusicOnce);
        document.addEventListener("touchstart", startMusicOnce);

        // function setVolume(value) {
        //     music.volume = value;
        // }

        const fireworkSound = document.getElementById("fireworkSound");
        fireworkSound.volume = 0.08; // Ã¢m lÆ°á»£ng phÃ¡o hoa



        /* Fireworks */
        const canvas = document.getElementById("fireworks");
        const ctx = canvas.getContext("2d");

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let particles = [];

        function createFirework() {
            const x = Math.random() * canvas.width;
            const y = Math.random() * canvas.height / 2;
            const colors = ["red", "yellow", "orange", "lime", "cyan", "pink"];

            // phÃ¡t tiáº¿ng phÃ¡o hoa (random Ä‘á»ƒ tá»± nhiÃªn)
            if (Math.random() > 0.3) {
                fireworkSound.currentTime = 0;
                fireworkSound.play();
            }

            for (let i = 0; i < 80; i++) {
                particles.push({
                    x,
                    y,
                    radius: Math.random() * 2 + 1,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    angle: Math.random() * Math.PI * 2,
                    speed: Math.random() * 4 + 1,
                    life: 100
                });
            }
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            particles.forEach((p, index) => {
                p.x += Math.cos(p.angle) * p.speed;
                p.y += Math.sin(p.angle) * p.speed;
                p.life--;

                ctx.beginPath();
                ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                ctx.fillStyle = p.color;
                ctx.fill();

                if (p.life <= 0) particles.splice(index, 1);
            });

            requestAnimationFrame(animate);
        }


        setInterval(createFirework, 1200);
        animate();

        const wishes = [
            "ChÃºc nÄƒm má»›i An Khang â€“ Thá»‹nh VÆ°á»£ng ğŸ§§",
            "Váº¡n sá»± nhÆ° Ã½ â€“ Táº¥n tÃ i táº¥n lá»™c ğŸ’°",
            "Gia Ä‘Ã¬nh háº¡nh phÃºc â€“ Sá»©c khá»e dá»“i dÃ o â¤ï¸",
            "Há»c hÃ nh tiáº¿n bá»™ â€“ CÃ´ng viá»‡c hanh thÃ´ng âœ¨",
            "Tiá»n vÃ o nhÆ° nÆ°á»›c â€“ Lá»™c Ä‘áº¿n Ä‘áº§y nhÃ  ğŸŒ¸",
            "NÄƒm má»›i nhiá»u cÆ¡ há»™i - nhiá»u thÃ nh cÃ´ng",
            "XuÃ¢n sang rá»™n rÃ ng - cÆ°á»i hoÃ i khÃ´ng chÃ¡n",
            "Táº¿t Ä‘áº¿n xuÃ¢n vá» - má»i Ä‘iá»u tá»‘t Ä‘áº¹p"
        ];

        function createLixi() {
            const lixi = document.createElement("div");
            lixi.className = "lixi";

            lixi.style.top = Math.random() * 65 + 10 + "%";
            lixi.style.animationDuration = (10 + Math.random() * 6) + "s";

            // Chá»¯ trÃªn phong bÃ¬
            const words = ["Lá»˜C", "PHÃšC", "TÃ€I", "PHÃT"];
            const text = document.createElement("span");
            text.innerText = words[Math.floor(Math.random() * words.length)];

            const knot = document.createElement("div");
            knot.className = "knot";

            lixi.appendChild(text);
            lixi.appendChild(knot);

            const wish = wishes[Math.floor(Math.random() * wishes.length)];
            lixi.onclick = () => openLixi(wish);

            document.body.appendChild(lixi);
            setTimeout(() => lixi.remove(), 18000);
        }


        /* Phong bÃ¬ lÃ¬ xÃ¬ bay liÃªn tá»¥c */
        setInterval(createLixi, 3500);

        /* ===== Má» / ÄÃ“NG POPUP LÃŒ XÃŒ ===== */
        function openLixi(text) {
            const popup = document.getElementById("lixi-popup");
            const content = document.getElementById("lixi-text");

            content.innerText = text;
            popup.style.display = "flex";
        }

        function closeLixi() {
            document.getElementById("lixi-popup").style.display = "none";
        }


    </script>

    <div id="lixi-popup" class="lixi-popup" onclick="closeLixi()">
        <div class="lixi-content" onclick="event.stopPropagation()">
            <span class="close" onclick="closeLixi()">âœ–</span>
            <h2>ğŸ§§ Lá»i ChÃºc NÄƒm Má»›i</h2>
            <p id="lixi-text"></p>
        </div>
    </div>

</body>

</html>
